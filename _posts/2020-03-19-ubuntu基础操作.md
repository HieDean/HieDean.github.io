---
layout:     post
title:      "ubuntu基础操作"
subtitle:   ""
date:       2020-3-19
author:     "HieDean"
header-img: "img/7.jpg"
tags:
    - 天大毕设
    - ubuntu
---
### 复制文件
`cp [选项] 源文件 目标文件`

### .sh文件的运行
`sh xx.sh`

### 查看进程杀死进程
`ps`

##### 通过pid查看进程
`ps -ef|grep pid`

##### 杀死进程
`kill -9 [PID]`

### 查看显卡状态
`nvidia-smi`
linux下可以使用该命令实时监控显卡状态
`watch -n 1 nvidia-smi`(其中数字1是1秒刷新一次)

### 查看CPU占用率、内存占用率
`top`

### 添加Anaconda3环境变量
```
# 将anaconda的bin目录加入PATH
echo 'export PATH="~/anaconda3/bin:$PATH"' >> ~/.bashrc
# 更新bashrc以立即生效
source ~/.bashrc
```

### win10下使用cmder上传文件至ubuntu服务器
`scp 本地文件 Linux用户名@IP地址：目标文件夹`

### scp 多个文件
`scp 本地文件 Linux用户名@IP地址：目标文件夹\{file1,file2\}`

### 查看目录大小
`du -sh`

### 梁神安利的tmux
新建一个session

`tmux new -s xxx`

进入session

`tmux a -t xxx`

查看session列表

`tmux ls`

退出session但不关闭session，使其在后台运行

`tmux detach`或`Ctrl+b d`

退出session，且不在后台运行

`Ctrl+d`

杀死session

`tmux kill-session -t xxx`

切换session

`tmux switch -t xxx`

### ubuntu下如何设置静态IP

[https://www.cnblogs.com/chenfool/p/7985909.html](https://www.cnblogs.com/chenfool/p/7985909.html)

[https://www.cnblogs.com/EasonJim/p/8072953.html](https://www.cnblogs.com/EasonJim/p/8072953.html)


### 查看当前目录下的文件个数（不包含子目录）
`ls -l|grep "^-"| wc -l`


### 如何将`/home`迁移挂载在另一个分区或者硬盘上呢？
##### 常用命令介绍
可以看到机器上有几块硬盘

`sudo lshw -C disk`

可以看到挂载关系

`df -h`

可以看磁盘分区情况

`sudo fdisk -l`

显示所有目录与文件，包括隐藏目录和文件

`ls -a`

##### 迁移过程
首先创建一个临时挂载点，并把目的分区或硬盘文件挂载至临时挂载点
```
sudo mkdir /mnt/tmp
sudo mount /dev/sdb /mnt/tmp
```

将`/home`同步至临时挂载点

`sudo rsync -avx /home/ /mnt/tmp`

同步后最好进入临时挂载点检查一下，检查好后删除`/home`下的所有东西并卸载`/home`
```
rm -rf /home/*  
umount -l /home
```

将硬盘挂载至`/home`

`sudo mount /dev/sdb /home`

获取硬盘信息，记录`UUID`和`TYPE`

`sudo blkid`

编辑`/etc/fstab`,将以下代码添加在最后

`UUID=175ab25f-5190-4df7-8795-8a00a0f78fd6 /home           ext4    defaults      0       2`

### 压缩某个目录下的全部文件

`zip -r -y ./exampleDir.zip ./exampleDir/*`
